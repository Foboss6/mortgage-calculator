(this["webpackJsonpmortgage-calculator"]=this["webpackJsonpmortgage-calculator"]||[]).push([[0],{80:function(e,n,a){},92:function(e,n,a){"use strict";a.r(n);var t=a(0),c=a.n(t),i=a(11),r=a.n(i),l=a(28),o=(a(80),a(14)),s=a(12),j=a(9),d=a(15),b="https://mortgage-calc-server.herokuapp.com",u=a(5),h=a(129),m=a(133),O=a(132),x=a(130),g=a(131),p=a(134),f=a(61),v=a.n(f),k=a(62),y=a.n(k),w=a(63),C=a.n(w),N=a(128),T=a(135),S=a(64),I=a.n(S),D=a(124),L=a(2),F=Object(u.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(),overflowX:"auto",backgroundColor:"transparent"},table:{minWidth:700},head:{fontSize:20},body:{fontSize:16},floatingButton:{position:"fixed",top:"auto",right:"10%",bottom:"2%",left:"auto"}}}))((function(e){var n=e.classes,a=Object(o.g)(),i=Object(t.useState)({}),r=Object(d.a)(i,2),l=r[0],u=r[1];c.a.useEffect((function(){u({}),fetch("".concat(b,"/banks")).then((function(e){return e.json()})).then((function(e){e.forEach((function(e){u((function(n){return Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},e.id,e))}))}))})).catch(console.log)}),[]);var f=function(e){var n=e.currentTarget.value;fetch("".concat(b,"/banks/delete"),{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})}).then((function(e){return e.json()})).then((function(e){"success"===e?u((function(e){var a=Object(j.a)({},e);return delete a[n],a})):console.log(e)})).catch(console.log)};return Object(L.jsxs)("div",{className:"banks",children:[Object(L.jsx)("div",{children:Object(L.jsx)(D.a,{variant:"contained",onClick:function(){return a.push("/mortgage-calculator")},children:"Mortgage Calculator"})}),Object(L.jsx)(N.a,{className:n.root,children:Object(L.jsxs)(h.a,{className:n.table,children:[Object(L.jsx)(x.a,{children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)(O.a,{className:n.head,align:"center",children:Object(L.jsx)("span",{children:"Bank Name"})}),Object(L.jsx)(O.a,{className:n.head,align:"center",children:Object(L.jsx)("span",{children:"Interest Rate"})}),Object(L.jsx)(O.a,{className:n.head,align:"center",children:Object(L.jsx)("span",{children:"Maximum Loan"})}),Object(L.jsx)(O.a,{className:n.head,align:"center",children:Object(L.jsx)("span",{children:"Minimum Down Payment"})}),Object(L.jsx)(O.a,{className:n.head,align:"center",children:Object(L.jsx)("span",{children:"Loan Term"})}),Object(L.jsx)(O.a,{align:"center"})]})}),Object(L.jsx)(m.a,{children:Object.values(l).sort((function(e,n){return e.bankname.toLowerCase()>n.bankname.toLowerCase()?1:e.bankname.toLowerCase()<n.bankname.toLowerCase()?-1:0})).map((function(e){return Object(L.jsxs)(g.a,{children:[Object(L.jsx)(O.a,{className:n.body,align:"center",children:e.bankname}),Object(L.jsx)(O.a,{className:n.body,align:"center",children:e.interestrate}),Object(L.jsxs)(O.a,{className:n.body,align:"center",children:["$ ",e.maxloan]}),Object(L.jsxs)(O.a,{className:n.body,align:"center",children:["$ ",e.mindownpayment]}),Object(L.jsx)(O.a,{className:n.body,align:"center",children:e.loanterm}),Object(L.jsxs)(O.a,{align:"right",children:[Object(L.jsx)(p.a,{"aria-label":"history",value:e.bankname,onClick:function(e){return a.push("/mortgage-calculator/".concat(e.currentTarget.value))},children:Object(L.jsx)(v.a,{})}),Object(L.jsx)(p.a,{"aria-label":"edit",value:e.id,onClick:function(e){return a.push("/banks/".concat(e.currentTarget.value))},children:Object(L.jsx)(y.a,{})}),Object(L.jsx)(p.a,{"aria-label":"delete",value:e.id,onClick:f,children:Object(L.jsx)(C.a,{})})]})]},e.id)}))})]})}),Object(L.jsx)("div",{className:n.floatingButton,children:Object(L.jsx)(T.a,{color:"primary","aria-label":"add",onClick:function(){return a.push("/banks/create")},children:Object(L.jsx)(I.a,{})})})]})})),B=a(138),M=function(){var e=Object(o.g)(),n=Object(o.h)().pathname.split("/"),a=n[n.length-1],t=c.a.useState({}),i=Object(d.a)(t,2),r=i[0],l=i[1];c.a.useEffect((function(){fetch("".concat(b,"/banks/").concat(a)).then((function(e){return e.json()})).then((function(e){return l(e)})).catch(console.log)}),[a]);var u=function(e,n){l((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(s.a)({},n,e.target.value))}))};return r.id?Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:Object(L.jsx)(D.a,{variant:"contained",onClick:function(){return e.push("/")},children:"BACK"})}),Object(L.jsxs)("div",{className:"center w-80 b-shadow ma",children:[Object(L.jsxs)("h3",{children:["Edit ",r.bankname,"'s data"]}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-bankname",label:"Bank Name",defaultValue:r.bankname,variant:"outlined",margin:"normal",onChange:function(e){return u(e,"bankname")}})}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-interestrate",label:"Interest Rate",defaultValue:r.interestrate,variant:"outlined",margin:"normal",onChange:function(e){return u(e,"interestrate")}})}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-maxloan",label:"Maximum Loan",defaultValue:r.maxloan,variant:"outlined",margin:"normal",onChange:function(e){return u(e,"maxloan")}})}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-mindownpayment",label:"Minimum Down Payment",defaultValue:r.mindownpayment,variant:"outlined",margin:"normal",onChange:function(e){return u(e,"mindownpayment")}})}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-loanterm",label:"Loan Term",defaultValue:r.loanterm,variant:"outlined",margin:"normal",onChange:function(e){return u(e,"loanterm")}})}),Object(L.jsx)("div",{children:Object(L.jsx)(D.a,{variant:"contained",onClick:function(){fetch("".concat(b,"/banks/").concat(a),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(n){return n.includes("success")?e.push("/"):console.log("An error occurred during access to the database")})).catch(console.log),e.push("/")},children:"Save"})})]})]}):Object(L.jsx)("div",{children:Object(L.jsx)("h3",{children:"An error in loading bank's data"})})},E=function(){var e=Object(o.g)(),n=c.a.useState({}),a=Object(d.a)(n,2),t=a[0],i=a[1],r=c.a.useState(),l=Object(d.a)(r,2),u=l[0],h=l[1],m=function(e,n){i((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(s.a)({},n,e.target.value))}))};return Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:Object(L.jsx)(D.a,{variant:"contained",onClick:function(){return e.push("/")},children:"BACK"})}),Object(L.jsxs)("div",{className:"center w-80 b-shadow ma",children:[Object(L.jsx)("div",{children:Object(L.jsx)("h2",{children:"You can add a new bank to the database"})}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-bankname",label:"Bank Name",defaultValue:t.bankname,variant:"outlined",margin:"normal",onChange:function(e){return m(e,"bankname")}})}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-interestrate",label:"Interest Rate",defaultValue:t.interestrate,variant:"outlined",margin:"normal",onChange:function(e){return m(e,"interestrate")}})}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-maxloan",label:"Maximum Loan",defaultValue:t.maxloan,variant:"outlined",margin:"normal",onChange:function(e){return m(e,"maxloan")}})}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-mindownpayment",label:"Minimum Down Payment",defaultValue:t.mindownpayment,variant:"outlined",margin:"normal",onChange:function(e){return m(e,"mindownpayment")}})}),Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{className:"w-60",id:"outlined-helperText-loanterm",label:"Loan Term",defaultValue:t.loanterm,variant:"outlined",margin:"normal",onChange:function(e){return m(e,"loanterm")}})}),u?Object(L.jsx)("div",{children:Object(L.jsx)("p",{children:u})}):Object(L.jsx)(L.Fragment,{}),Object(L.jsx)("div",{children:Object(L.jsx)(D.a,{variant:"contained",onClick:function(){t.bankname&&t.interestrate&&t.maxloan&&t.mindownpayment&&t.loanterm?fetch("".concat(b,"/banks/create"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(n){return n.id?e.push("/"):h(n)})).catch(console.log):h("Invalid data")},children:"Add New Bank"})})]})]})},V=a(136),P=a(139),A=a(137),J=Object(V.a)({table:{minWidth:650},paper:{width:"80%",margin:"1% auto",boxShadow:"0 3px 10px rgb(0 0 0 / 0.2)",background:"transparent"}}),$=function(){var e=J(),n=Object(o.g)(),a=Object(o.h)(),t=c.a.useState({initialloan:"",downpayment:"",bankname:""}),i=Object(d.a)(t,2),r=i[0],l=i[1],u=c.a.useState({}),p=Object(d.a)(u,2),f=p[0],v=p[1],k=c.a.useState({}),y=Object(d.a)(k,2),w=y[0],C=y[1],T=a.pathname.split("/"),S=T[T.length-1].includes("mortgage-calculator")?"":T[T.length-1],I=c.a.useState(""),F=Object(d.a)(I,2),M=F[0],E=F[1],V=c.a.useState({}),$=Object(d.a)(V,2),R=$[0],q=$[1],z=c.a.useState({bankname:!1,downpayment:!1,initialloan:!1}),H=Object(d.a)(z,2),K=H[0],W=H[1],Y=function(e){W((function(n){return Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},e,!0))}))},X=function(){var e=parseInt(r.initialloan,10),n=parseInt(r.bankData.interestrate,10)/100,a=1;r.bankData.loanterm.toLowerCase().includes("m")?a=parseInt(r.bankData.loanterm,10):r.bankData.loanterm.toLowerCase().includes("y")&&(a=12*parseInt(r.bankData.loanterm,10));var t=Number((e*(n/12)*Math.pow(1+n/12,a)/(Math.pow(1+n/12,a)-1)).toFixed(2)),c=Number((e*n/12).toFixed(2)),i=Number((parseInt(r.initialloan,10)-t+c).toFixed(2)),l=Number((parseInt(r.downpayment,10)+t-c).toFixed(2)),o={};o={1:{month:1,totalpayment:t,interestpayment:c,loanbalance:i,equity:l}};for(var d=2;d<=a;d++)c=Number((i*n/12).toFixed(2)),i=Number((i-t+c).toFixed(2)),l=Number((l+t-c).toFixed(2)),o=Object(j.a)(Object(j.a)({},o),{},Object(s.a)({},d,{month:d,totalpayment:t,interestpayment:c,loanbalance:i,equity:l}));return o};c.a.useEffect((function(){C({}),fetch("".concat(b,"/banks")).then((function(e){return e.json()})).then((function(e){e.forEach((function(n){e.length?C((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},n.id,n))})):console.log(e)}))})).catch(console.log),S&&Q({target:{value:S}})}),[]),c.a.useEffect((function(){var e;r.bankname&&(e=r.bankname,q({}),fetch("".concat(b,"/mortgage-calculator/history/").concat(e)).then((function(e){return e.json()})).then((function(n){if(n.length){var a={};n.map((function(e){return a=Object(j.a)(Object(j.a)({},a),{},Object(s.a)({},e.date.split(".")[0].replace(/T/," "),Object(j.a)(Object(j.a)({},e),{},{date:e.date.split(".")[0].replace(/T/," ")})))})),q(a)}else console.log('"'.concat(e,'" have no history'))})).catch(console.log))}),[r.bankname]),c.a.useEffect((function(){S&&Object.keys(R).length&&U({target:{value:Object.values(R)[0].date}})}),[R]);var G=function(e,n){l((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(s.a)({},n,e.target.value))})),v({})},Q=function(e){l((function(n){return Object(j.a)(Object(j.a)({},n),{},{bankname:e.target.value,bankData:{}})})),v({}),fetch("".concat(b,"/mortgage-calculator/").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.id?l((function(n){return Object(j.a)(Object(j.a)({},n),{},{bankData:e})})):console.log(e)})).catch(console.log)},U=function(e){E(e.target.value),l((function(n){return Object(j.a)(Object(j.a)({},n),{},{initialloan:R[e.target.value].initialloan,downpayment:R[e.target.value].downpayment})})),r.bankData.id&&v(X())};return Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:Object(L.jsx)(D.a,{variant:"contained",onClick:function(){return n.push("/")},children:"BACK"})}),Object(L.jsxs)("div",{className:"center",children:[Object(L.jsx)("h2",{children:" Welcome to The Mortgage Calculator"}),Object(L.jsxs)("div",{children:[Object(L.jsx)(B.a,{id:"outlined-helperText-bankname",label:"Initial Loan",helperText:"Please indicate your initial loan",value:r.initialloan,error:K.initialloan,variant:"outlined",margin:"normal",onChange:function(e){return G(e,"initialloan")}}),Object(L.jsx)(B.a,{id:"outlined-helperText-interestrate",label:"Down Payment",helperText:"Please indicate the down payment",value:r.downpayment,error:K.downpayment,variant:"outlined",margin:"normal",onChange:function(e){return G(e,"downpayment")}}),Object(L.jsx)(B.a,{id:"outlined-select-currency",select:!0,label:"Select The Bank",value:r.bankname,onChange:Q,helperText:"Please select the bank you need",error:K.bankname,variant:"outlined",margin:"normal",children:w?Object.values(w).map((function(e){return Object(L.jsx)(P.a,{value:e.bankname,children:e.bankname},e.bankname)})):Object(L.jsx)(L.Fragment,{})}),Object.keys(R).length?Object(L.jsx)(B.a,{id:"outlined-select-currencyHistory",select:!0,label:"HISTORY: select The Date",value:M,onChange:U,helperText:"HISTORY: select the date you whant to see",variant:"outlined",margin:"normal",children:Object.values(R).map((function(e){return Object(L.jsx)(P.a,{value:e.date,children:e.date},e.date)}))}):Object(L.jsx)(L.Fragment,{}),Object(L.jsx)("div",{children:Object(L.jsx)(D.a,{variant:"contained",onClick:function(e){return W({bankname:!1,downpayment:!1,initialloan:!1}),v({}),r.bankname?r.initialloan?parseInt(r.initialloan)>parseInt(r.bankData.maxloan)?Y("initialloan"):r.downpayment?parseInt(r.downpayment)<parseInt(r.bankData.mindownpayment)?Y("downpayment"):void(r.bankData.id&&(v(X()),function(){var e=r.initialloan,n=r.downpayment,a=r.bankname;fetch("".concat(b,"/mortgage-calculator/history"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({bankname:a,initialloan:e,downpayment:n})}).then((function(e){return e.json()})).then((function(e){e.id?console.log("success"):console.log(e)})).catch(console.log)}())):Y("downpayment"):Y("initialloan"):Y("bankname")},children:"Calculate"})})]})]}),Object.keys(f).length?Object(L.jsx)("div",{children:Object(L.jsx)(A.a,{className:e.paper,component:N.a,children:Object(L.jsxs)(h.a,{className:e.table,size:"small","aria-label":"a dense table",children:[Object(L.jsx)(x.a,{children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)(O.a,{align:"center",children:"Month"}),Object(L.jsx)(O.a,{align:"center",children:"Total payment\xa0($)"}),Object(L.jsx)(O.a,{align:"center",children:"Interest payment\xa0($)"}),Object(L.jsx)(O.a,{align:"center",children:"Loan balance\xa0($)"}),Object(L.jsx)(O.a,{align:"center",children:"Equity\xa0($)"})]})}),Object(L.jsx)(m.a,{children:Object.values(f).map((function(e){return Object(L.jsxs)(g.a,{children:[Object(L.jsx)(O.a,{align:"center",children:e.month},e.month+1),Object(L.jsx)(O.a,{align:"center",children:e.totalpayment},e.month+2),Object(L.jsx)(O.a,{align:"center",children:e.interestpayment},e.month+3),Object(L.jsx)(O.a,{align:"center",children:e.loanbalance},e.month+4),Object(L.jsx)(O.a,{align:"center",children:e.equity},e.month+5)]},e.bankname)}))})]})})}):Object(L.jsx)(L.Fragment,{})]})};var R=function(){return Object(L.jsxs)(o.d,{children:[Object(L.jsx)(o.b,{exact:!0,path:"/",children:Object(L.jsx)(o.a,{to:"/banks"})}),Object(L.jsx)(o.b,{exact:!0,path:"/banks",children:Object(L.jsx)(F,{})}),Object(L.jsx)(o.b,{path:"/mortgage-calculator",children:Object(L.jsx)($,{})}),Object(L.jsx)(o.b,{exact:!0,path:"/banks/create",children:Object(L.jsx)(E,{})}),Object(L.jsx)(o.b,{exact:!0,path:"/banks/:id",children:Object(L.jsx)(M,{})})]})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,141)).then((function(n){var a=n.getCLS,t=n.getFID,c=n.getFCP,i=n.getLCP,r=n.getTTFB;a(e),t(e),c(e),i(e),r(e)}))};r.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(l.a,{basename:"/",children:Object(L.jsx)(R,{})})}),document.getElementById("root")),q()}},[[92,1,2]]]);
//# sourceMappingURL=main.7f4bf43e.chunk.js.map